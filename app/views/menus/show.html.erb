<!-- show.html.erb -->

<% if @menu.errors.any? %>
  <div data-alert class="alert-box" id="notice">
    <%= notice %>
    <a href="#" class="close">&times;</a>
  </div>
<% end %>

  <h2>Menu: <%= @menu.name %></h2>
  <h3>Recipes</h3>
  <ul>
    <% @menu.recipes.each do |r| %>
      <li>
        <%= link_to r.name, recipe_path(r) %>
      </li>
    <% end %>
  </ul>
  <ul class="button-group round">
    <li><%= link_to 'Edit', edit_recipe_path(@menu), class: "button" %></li>
    <li><%= link_to 'Delete', @menu, method: :delete, data: { confirm: 'Are you sure?' }, class: "button" %></li>
  </ul>
<h2>All Ingredients for this Menu</h2>

<table>
  <tr>
    <th>Quantity</th>
    <th>Ingredient</th>
    <th>Grocery</th>
  </tr>
  <% @ingredient_list.each do |k, v| %>
  <% i = Ingredient.find_by name: k %>
    <tr>
      <td>
        <%= v %>
      </td>
      <td>
        <%= k %>
      </td>
      <td>
        <%= i.shop_section %>
      </td>
    </tr>
  <% end %>
</table>
